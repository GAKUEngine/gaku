/*
 *
 * Wijmo Library 2.0.0
 * http://wijmo.com/
 *
 * Copyright(c) ComponentOne, LLC.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://www.wijmo.com/license
 *
 **/
(function(a){"use strict";var b=0;a.widget("wijmo.wijcheckbox",{_csspre:"wijmo-checkbox",_init:function(){var d=this,c=d.element,h=d.options,f,i,g,e,j;if(c.is(":checkbox")){if(!c.attr("id")){c.attr("id",d._csspre+b);b+=1}if(c.parent().is("label")){f=c.parent().wrap("<div class='"+d._csspre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(d._csspre+" ui-widget");i=c.parent();i.attr("for",c.attr("id"));f.find("."+d._csspre+"-inputwrapper").append(c);f.append(i)}else f=c.wrap("<div class='"+d._csspre+"-inputwrapper'></div>").parent().wrap("<div></div>").parent().addClass(d._csspre+" ui-widget");g=a("label[for='"+c.attr("id")+"']");if(g.length>0){f.append(g);g.attr("labelsign","C1")}c.is(":disabled")&&d._setOption("disabled",true);e=a("<div class='"+d._csspre+"-box ui-widget ui-state-"+(h.disabled?"disabled":"default")+" ui-corner-all'><span class='"+d._csspre+"-icon'></span></div>");j=e.children("."+d._csspre+"-icon");f.append(e);c.data("iconElement",j);c.data("boxElement",e);e.removeClass(d._csspre+"-relative").attr("role","checkbox").bind("mouseover",function(){c.mouseover()}).bind("mouseout",function(){c.mouseout()});(g.length===0||g.html()==="")&&e.addClass(d._csspre+"-relative");c.bind("click.checkbox",function(a){d.refresh(a)}).bind("focus.checkbox",function(){if(h.disabled)return;e.removeClass("ui-state-default").addClass("ui-state-focus")}).bind("blur.checkbox",function(){if(h.disabled)return;e.removeClass("ui-state-focus").not(".ui-state-hover").addClass("ui-state-default")}).bind("keydown.checkbox",function(a){if(a.keyCode===32){if(h.disabled)return;d.refresh()}});e.bind("click.checkbox",function(a){c.get(0).checked=!c.get(0).checked;c.change();c.focus();d.refresh(a)});d.refresh();f.bind("mouseover.checkbox",function(){if(h.disabled)return;e.removeClass("ui-state-default").addClass("ui-state-hover")}).bind("mouseout.checkbox",function(){if(h.disabled)return;e.removeClass("ui-state-hover").not(".ui-state-focus").addClass("ui-state-default")})}},refresh:function(b){var a=this;a.element.data("iconElement").toggleClass("ui-icon ui-icon-check",a.element.get(0).checked);a.element.data("boxElement").toggleClass("ui-state-active",a.element.get(0).checked).attr("aria-checked",a.element.get(0).checked);b&&b.stopPropagation()},destroy:function(){var b=this,c=b.element.parent().parent();c.children("div."+b._csspre+"-box").remove();b.element.unwrap();b.element.unwrap();a.Widget.prototype.destroy.apply(b)}})})(jQuery);