<%- if @contact.errors.any? %>
	$('#new-student-contact-form-errors').html('<%= render_js_partial("/shared/errors", {:target => @contact}) %>');
<%- else %>
  $('.student-contacts-count').html('<%= print_count(@student.contacts, t("contacts.list")) %>');
  $('#student-contacts-index tbody').append('<%= render_js_partial("contact", {:contact => @contact}) %>');
	$("#new-student-contact-link").show();
	$('#new-student-contact-form').hide();
	$("#new-student-contact-form form")[0].reset();
	$('#new-student-contact-form-errors').html('');

	<%- if @contact.is_primary? %>
		$('.student-contact').each(function() {
			$(this).children('td.primary-contact').html('');
			$(this).find('.primary-button a').removeClass('btn-primary');
		});

		var currentContact = $("#contact-<%= @contact.id %>");
		currentContact.children('td.primary-contact').html('Primary');
		currentContact.find('.primary-button a').addClass('btn-primary');
	<% end %>
<% end %>